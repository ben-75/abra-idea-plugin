<idea-plugin>
  <id>org.abra.language</id>
  <name>Qupla Plugin</name>
  <version>0.0.29-pre-alpha</version>
  <vendor url="https://github.com/ben-75/abra-idea-plugin"/>

  <description><![CDATA[
      [Experimental] support for Qupla language

      <h3>Features</h3>
      <ul>
      <li> Basic syntax highlighting
      <li> Static resolution of trit vector size
      <li> Resolve references (also cross file references)
      <li> Resolve template references
      <li> LUT: detection of duplicate entries, detection of inconsistent input(resp. output) length
      <li> Detection of duplicate declarations
      <li> Detection of ambiguous reference
      <li> Code folding
      <li> Braces matching
      <li> Check args count
      <li> ...
      </ul>
    ]]></description>

  <change-notes><![CDATA[
        <ul>
        <li>Move from Abra to Qupla
        </ul>
    ]]>
  </change-notes>


  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description -->
  <idea-version since-build="171.0"/>

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
       on how to target different products -->
  <!-- uncomment to enable plugin in all products
  <depends>com.intellij.modules.lang</depends>
  -->

  <extensions defaultExtensionNs="com.intellij">
    <fileTypeFactory implementation="org.abra.language.AbraFileTypeFactory"/>
    <lang.parserDefinition language="Qupla" implementationClass="org.abra.language.AbraParserDefinition"/>
    <lang.syntaxHighlighterFactory language="Qupla" implementationClass="org.abra.ide.highlighter.QuplaSyntaxHighlighterFactory"/>
    <lang.braceMatcher language="Qupla" implementationClass="org.abra.ide.tools.QuplaBraceMatcher"/>
    <lang.commenter language="Qupla" implementationClass="org.abra.ide.tools.QuplaCommenter"/>
    <lang.foldingBuilder language="Qupla" implementationClass="org.abra.ide.tools.QuplaFoldingBuilder"/>
    <colorSettingsPage implementation="org.abra.ide.highlighter.QuplaColorSettingsPage"/>
    <lang.psiStructureViewFactory language="Qupla" implementationClass="org.abra.ide.ui.structureview.QuplaStructureViewFactory"/>
    <lang.findUsagesProvider language="Qupla" implementationClass="org.abra.ide.tools.QuplaFindUsagesProvider"/>
    <annotator language="Qupla" implementationClass="org.abra.ide.highlighter.DeclarationAnnotator"/>
    <annotator language="Qupla" implementationClass="org.abra.ide.highlighter.ReferenceValidatorAnnotator"/>
    <annotator language="Qupla" implementationClass="org.abra.ide.highlighter.MultiDeclarationAnnotator"/>
    <annotator language="Qupla" implementationClass="org.abra.ide.highlighter.LutValidationAnnotator"/>
    <annotator language="Qupla" implementationClass="org.abra.ide.highlighter.FuncArgsAnnotator"/>
    <annotator language="Qupla" implementationClass="org.abra.ide.highlighter.ImportAnnotator"/>
    <completion.contributor language="Qupla" implementationClass="org.abra.ide.tools.completion.QuplaCompletionContributor"/>
    <additionalTextAttributes scheme="Default" file="colors/AbraDefault.xml"/>
    <additionalTextAttributes scheme="Darcula" file="colors/AbraDarcula.xml"/>
    <renamePsiElementProcessor implementation="org.abra.ide.tools.RenameFuncNameProcessor"/>
    <configurationType implementation="org.abra.runtime.interpreter.AbraInterpreterConfigurationType"/>
    <programRunner implementation="org.abra.runtime.interpreter.AbraInterpreterProgramRunner"/>
    <runConfigurationProducer implementation="org.abra.runtime.interpreter.AbraRunConfigurationProducer"/>
    <iconLayerProvider implementation="org.abra.ide.ui.QuplaIconProvider" order="last"/>
  </extensions>

  <project-components>
    <component>
      <interface-class>org.abra.language.module.QuplaModuleManager</interface-class>
      <implementation-class>org.abra.language.module.QuplaModuleManagerImpl</implementation-class>
      <option name="workspace" value="true" />
      <loadForDefaultProject/>
    </component>
  </project-components>
  <actions>
    <!-- Add your actions here -->

    <action id="org.abra.ide.ui.action.MarkAsQuplaSourceRoot"
            class="org.abra.ide.ui.action.MarkAsQuplaSourceRoot"
            text="Mark as Qupla Sources Root" description="This directory contains Qupla modules">
      <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
    </action>
  </actions>

</idea-plugin>